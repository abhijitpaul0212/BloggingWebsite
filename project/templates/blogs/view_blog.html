{% extends 'base.html' %}

{% block content %}
<center>
    <ul class="nav justify-content-center blog_home_links">
        <li class="nav-item">
            <a class="nav-link active" href="{{ url_for('blogs.create_blog') }}">Create Blog</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="{{ url_for('blogs.view_blogs') }}">View My Blogs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="{{ url_for('blogs.list_all_blogs') }}">List All Blogs</a>
        </li>
    </ul>
    <br>
    <h1>Hello {{ current_user.username }}</h1> Your Authored Blogs
    <p>
        <table style="border: 1px solid black; border-radius: 10px; padding: 3%; width: 80%;">
            <thead>
                <th>
                    Category
                </th>
                <th>
                    Content
                </th>
                <th>
                    Read Count
                </th>
                <th>
                    Rating
                </th>
            </thead>
            <tbody>
                {% for a_blog in all_self_blogs %}
                    <tr>
                        <td>
                            {{ all_categories[a_blog.category_id-1]}}
                        </td>
                        <td>
                            <a href="/self_blog_detail/{{ a_blog.id }}/{{ all_categories[a_blog.category_id-1] }}"> {{ a_blog.blog_text | safe | truncate(275) }}</a>
                        </td>
                        <td>
                            {{ a_blog.blog_read_count }}
                        </td>
                        <td>
                            {{ a_blog.blog_rating_count }}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </p>

</center>
{% endblock %}